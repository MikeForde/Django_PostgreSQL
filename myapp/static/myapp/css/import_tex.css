
.tex-wrapper {
      display: flex;
      justify-content: center;   /* horizontally centre */
      width: 100%;
  }

  .tex-label {
    background-color: var(--label-bg, #fff);
  }

    .badge{ margin-left:8px; padding:1px 6px; border-radius:4px; font-size:11px; }
    .badge--pending{ background:#eee; color:#666; }
    .badge--create{ background:#c9fcd6; border-color:#91d5ff; color:#055118; }
    .badge--ok{ background:#e6f7ff; border-color:#91d5ff; color:#096dd9; }
    .badge--warn{ background:#fffbe6; border-color:#ffe58f; color:#ad6800; }
    .badge--miss{ background:#ffffff; border-color:#ffffff; color:#ffffff; }
    .badge--query { background: #353535ff; border-color: #9a9a9aff; color: #ffffff; }
    .badge--loose{ background:#fb9295; border-color:#e8e8e8; color:#ffffff; }
    .rc-decision{ cursor:pointer; } 
    .readcode-highlight {
      outline: 2px solid #ffbf47;
      box-shadow: 0 0 0 3px rgba(255,191,71,.35);
      background-color: rgba(255,191,71,.08);
      transition: background-color .15s ease, box-shadow .15s ease, outline-color .15s ease;
    }
    .lib-selected { background:#e6f7ff; outline:1px solid #91d5ff; }



  .mode-wrapper {
    position: relative;
  }

  /* make each mode label clickable pill */
.mode-item,
.choose-file-btn {
  display: flex;
  align-items: center;
  gap: 4px;
  background: #eef2f6;
  border: 1px solid #c7d0d9;
  border-radius: 6px;
  padding: 4px 8px;
  font-size: 0.8rem;
  cursor: pointer;
  transition: background 0.15s;
}
.mode-item:hover,
.choose-file-btn:hover {
  background: #e2e8f0;
}

/* hide the native file input visually but keep it in DOM */
input[type="file"][name="{{ form.tex_file.name }}"] {
  display: none;
}

/* flyout panel */
#lib-flyout {
  position: absolute;
  top: calc(100% + 4px);   /* a little below the pill row */
  left: 0;
  z-index: 1000;
  min-width: 260px;
  max-width: 480px;
  background: #fff;
  border: 1px solid #d0d7de;
  border-radius: 6px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.12);
  padding: 8px;
  display: none;           /* JS toggles this */
}

/* pane bodies inside flyout */
#lib-pane-search,
#lib-pane-tree {
  max-width: 100%;
}

/* highlight class for selected row in search/tree */
.lib-selected {
  background: #fffbe6;
  outline: 1px solid #eab308;
}
  
  /* container */
  #tex-controls .controls-row {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
  }

  .control-card {
    flex: 1 1 340px;
    background: #f9fafb;
    border: 1px solid #d0d7de;
    border-radius: 10px;
    padding: 14px 18px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
  }

  .section-title {
    font-weight: 600;
    margin-bottom: 8px;
    font-size: 1rem;
    color: #1f2937;
  }

  /* top row: modes + choose file */
  .mode-bar {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    align-items: center;
    margin-bottom: 8px;
  }

  .mode-bar label,
  .mode-bar button.choose-file-btn {
    display: flex;
    align-items: center;
    gap: 4px;
    background: #eef2f6;
    border: 1px solid #c7d0d9;
    border-radius: 6px;
    padding: 4px 8px;
    font-size: 0.8rem;
    cursor: pointer;
    transition: background 0.15s;
  }

  .mode-bar label:hover,
  .mode-bar button.choose-file-btn:hover {
    background: #e2e8f0;
  }

  .mode-bar input[type="radio"] {
    margin: 0;
  }

  /* Render button and status */
  .primary-btn {
    background: linear-gradient(to bottom right, #7C9DB3, #6B8CA2);
    color: #FFFF54;
    border: none;
    border-radius: 8px;
    padding: 6px 10px;
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: all 0.2s ease;
  }
  .primary-btn:hover {
    filter: brightness(1.08);
  }

  .selected-tex-label {
    margin-top: 6px;
    font-size: 0.85rem;
    color: #374151;
  }
  .selected-tex-label code {
    background: #eef2f6;
    padding: 2px 4px;
    border-radius: 4px;
  }

  /* Export card */
  .export-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  .export-btn {
    background: #fff;
    color: #1f2937;
    border: 1px solid #9ca3af;
    border-radius: 8px;
    padding: 9px 14px;
    font-size: 14px;
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    cursor: pointer;
  }
  .export-btn:hover {
    background: #f3f4f6;
  }





    #rc-tooltip{
      position:fixed;
      z-index:99999;
      display:none;
      max-width:260px;
      background:#ffff8f;
      color:#111;
      font-size:12px;
      line-height:1.25;
      padding:6px 8px;
      border-radius:4px;
      box-shadow:0 2px 8px rgba(0,0,0,.35);
      white-space:pre-line;
      pointer-events:none; /* donâ€™t steal hover */
    }



    #lib-pane-search input {
      font-size: 12px;
      padding: 4px 6px;
    }
    #lib-search-results {
      font-size: 12px;
      line-height: 1.3;
    }
    #lib-search-results div {
      padding: 2px 4px;
      cursor: pointer;
    }
    #lib-search-results div:hover {
      background: #eef;
    }

    #lib-pane-tree {
      font-size: 12px;
      line-height: 1.3;
    }
    #lib-pane-tree div {
      margin: 1px 0;
      cursor: pointer;
    }
    #lib-pane-tree div:hover {
      background: #eef;
    }



    #lib-trigger { position: relative; }
    #lib-flyout {
      position: absolute;
      top: 100%;
      left: 0;
      z-index: 2000;
      background: #fff;
      border: 1px solid #ccc;
      box-shadow: 0 6px 16px rgba(0,0,0,.15);
      padding: 8px;
      min-width: 340px;
      max-width: 520px;
      border-radius: 4px;
    }
    /* compact visuals inside results/tree */
    #lib-search-results div { padding: 2px 4px; cursor: pointer; }
    #lib-search-results div:hover,
    #lib-pane-tree div:hover { background: #eef; }



    .ctrl .rc-wrap{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:6px 8px;
      width:100%;
      max-width:100%;
      box-sizing:border-box;
      overflow:hidden;      
    }
    .ctrl .rc-wrap > *{ flex:0 0 auto; }
    .ctrl .rc-break{ flex-basis:100%; height:0; }  /* forces a line break */
    .ctrl .rc-prompt{ white-space:nowrap; max-width:100%; overflow:hidden; text-overflow:ellipsis;}
    .ctrl .rc-val{ width:40px; }
    .ctrl .rc-date{ width: 70px; font-size:10px; }
    .ctrl .rc-yes-label{ margin-right:0; }
    .ctrl .rc-no-label{ margin-right:0; }



    .sr-only{
      position:absolute !important; width:1px; height:1px;
      padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0);
      white-space:nowrap; border:0;
    }



/* Grid that forces two rows: controls (row 1), work area (row 2) */
.tex-layout{
  display:grid;
  grid-template-rows: auto auto;
  grid-template-columns: 1fr; /* single column only */
  row-gap: 16px;
  width:100%;
}
#tex-controls{
  grid-row:1; grid-column:1;
  display:block; width:100%;
}
/* keep the row contents on a single line but wrap *inside* that row, not next to row 2 */
.controls-row{
  display:flex;
  gap:12px;
  align-items:flex-end;
  flex-wrap:wrap;
}
#tex-render{
  grid-row:2; grid-column:1;
  display:block; width:100%;
}
.tex-work{
  display:flex;
  align-items:flex-start;
  gap:16px;
  width:100%;
}
@media (max-width: 900px){
  .tex-work{ flex-direction:column; }
  #readcodes-sidebar{ width:100% !important; }
}
